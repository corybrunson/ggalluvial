<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Labeling small strata • ggalluvial</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Labeling small strata">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">ggalluvial</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.12.5</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../articles/ggalluvial.html">Get started</a></li>
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/labels.html">Labeling small strata</a></li>
    <li><a class="dropdown-item" href="../articles/order-rectangles.html">The Order of the Rectangles</a></li>
    <li><a class="dropdown-item" href="../articles/shiny.html">Tooltips for ggalluvial plots in Shiny apps</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/corybrunson/ggalluvial/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Labeling small strata</h1>
                        <h4 data-toc-skip class="author">Jason Cory
Brunson</h4>
            
            <h4 data-toc-skip class="date">2025-06-12</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/corybrunson/ggalluvial/blob/HEAD/vignettes/labels.rmd" class="external-link"><code>vignettes/labels.rmd</code></a></small>
      <div class="d-none name"><code>labels.rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="setup">Setup<a class="anchor" aria-label="anchor" href="#setup"></a>
</h2>
<p>This brief vignette uses the <code>vaccinations</code> dataset
included in {ggalluvial}. As in <a href="http://corybrunson.github.io/ggalluvial/articles/ggalluvial.html" class="external-link">the
technical introduction</a>, the order of the levels is reversed to be
more intuitive. Objects from other {ggplot2} extensions are accessed via
<code>::</code> and <code>:::</code>.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">knitr</span><span class="fu">::</span><span class="va"><a href="https://rdrr.io/pkg/knitr/man/opts_chunk.html" class="external-link">opts_chunk</a></span><span class="op">$</span><span class="fu">set</span><span class="op">(</span>fig.width <span class="op">=</span> <span class="fl">6</span>, fig.height <span class="op">=</span> <span class="fl">4</span>, fig.align <span class="op">=</span> <span class="st">"center"</span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="http://corybrunson.github.io/ggalluvial/" class="external-link">ggalluvial</a></span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## Loading required package: ggplot2</span></span></code></pre>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">vaccinations</span><span class="op">)</span></span>
<span><span class="va">vaccinations</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/transform.html" class="external-link">transform</a></span><span class="op">(</span><span class="va">vaccinations</span>,</span>
<span>                          response <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">factor</a></span><span class="op">(</span><span class="va">response</span>, <span class="fu"><a href="https://rdrr.io/r/base/rev.html" class="external-link">rev</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/levels.html" class="external-link">levels</a></span><span class="op">(</span><span class="va">response</span><span class="op">)</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="problem">Problem<a class="anchor" aria-label="anchor" href="#problem"></a>
</h2>
<p>The issue on the table: Strata are most helpful when they’re overlaid
with text labels. Yet the strata often vary in height, and the labels in
length, to such a degree that fitting the text inside the strata at a
uniform size renders them illegible. In principle, the user could treat
<code>size</code> as a variable aesthetic and manually fit text to
strata, but this is cumbersome, and doesn’t help anyway in cases where
large text is needed.</p>
<p>To illustrate the problem, check out the plot below. It’s by no means
an egregious case, but it’ll do. (For a more practical example, see <a href="https://stackoverflow.com/questions/50720718/labelling-and-theme-of-ggalluvial-plot-in-r" class="external-link">this
question on StackOverflow</a>, which prompted this vignette.)</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="va">vaccinations</span>,</span>
<span>       <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">survey</span>, stratum <span class="op">=</span> <span class="va">response</span>, alluvium <span class="op">=</span> <span class="va">subject</span>, y <span class="op">=</span> <span class="va">freq</span>,</span>
<span>           fill <span class="op">=</span> <span class="va">response</span>, label <span class="op">=</span> <span class="va">response</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_discrete.html" class="external-link">scale_x_discrete</a></span><span class="op">(</span>expand <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">.1</span>, <span class="fl">0</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="../reference/geom_flow.html">geom_flow</a></span><span class="op">(</span>width <span class="op">=</span> <span class="fl">1</span><span class="op">/</span><span class="fl">4</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="../reference/geom_stratum.html">geom_stratum</a></span><span class="op">(</span>alpha <span class="op">=</span> <span class="fl">.5</span>, width <span class="op">=</span> <span class="fl">1</span><span class="op">/</span><span class="fl">4</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_text.html" class="external-link">geom_text</a></span><span class="op">(</span>stat <span class="op">=</span> <span class="st">"stratum"</span>, size <span class="op">=</span> <span class="fl">4</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html" class="external-link">theme</a></span><span class="op">(</span>legend.position <span class="op">=</span> <span class="st">"none"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">ggtitle</a></span><span class="op">(</span><span class="st">"vaccination survey responses"</span>, <span class="st">"labeled using `geom_text()`"</span><span class="op">)</span></span></code></pre></div>
<p><img src="labels_files/figure-html/raw-1.png" width="576" style="display: block; margin: auto;"></p>
<div class="section level3">
<h3 id="fix">Fix<a class="anchor" aria-label="anchor" href="#fix"></a>
</h3>
<p>One option is to simply omit those labels that don’t fit within their
strata. In response to <a href="https://github.com/corybrunson/ggalluvial/issues/27" class="external-link">an issue</a>,
<code>v0.9.2</code> includes parameters in <code><a href="../reference/stat_stratum.html">stat_stratum()</a></code>
to exclude strata outside a specified height range; while few would use
this to omit the rectangles themselves, it can be used in tandem with
<code><a href="https://ggplot2.tidyverse.org/reference/geom_text.html" class="external-link">geom_text()</a></code> to shirk this problem, at least when the labels
are concise:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="va">vaccinations</span>,</span>
<span>       <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">survey</span>, stratum <span class="op">=</span> <span class="va">response</span>, alluvium <span class="op">=</span> <span class="va">subject</span>, y <span class="op">=</span> <span class="va">freq</span>,</span>
<span>           fill <span class="op">=</span> <span class="va">response</span>, label <span class="op">=</span> <span class="va">response</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_discrete.html" class="external-link">scale_x_discrete</a></span><span class="op">(</span>expand <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">.1</span>, <span class="fl">0</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="../reference/geom_flow.html">geom_flow</a></span><span class="op">(</span>width <span class="op">=</span> <span class="fl">1</span><span class="op">/</span><span class="fl">4</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="../reference/geom_stratum.html">geom_stratum</a></span><span class="op">(</span>alpha <span class="op">=</span> <span class="fl">.5</span>, width <span class="op">=</span> <span class="fl">1</span><span class="op">/</span><span class="fl">4</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_text.html" class="external-link">geom_text</a></span><span class="op">(</span>stat <span class="op">=</span> <span class="st">"stratum"</span>, size <span class="op">=</span> <span class="fl">4</span>, min.y <span class="op">=</span> <span class="fl">100</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html" class="external-link">theme</a></span><span class="op">(</span>legend.position <span class="op">=</span> <span class="st">"none"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">ggtitle</a></span><span class="op">(</span></span>
<span>    <span class="st">"vaccination survey responses"</span>,</span>
<span>    <span class="st">"labeled using `geom_text()` with `min.y = 100`"</span></span>
<span>  <span class="op">)</span></span></code></pre></div>
<p><img src="labels_files/figure-html/omit-1.png" width="576" style="display: block; margin: auto;"></p>
<p>This is a useful fix for some cases. Still, if the goal is a
publication-ready graphic, then it reaffirms the need for more adaptable
and elegant solutions. Fortunately, two wonderful packages deliver with,
shall we say, flowing colors.</p>
</div>
</div>
<div class="section level2">
<h2 id="solutions">Solutions<a class="anchor" aria-label="anchor" href="#solutions"></a>
</h2>
<p>Two {ggplot2} extensions are well-suited to this problem: <a href="https://github.com/slowkow/ggrepel" class="external-link">{ggrepel}</a> and <a href="https://github.com/wilkox/ggfittext" class="external-link">{ggfittext}</a>. They provide
new geom layers that use the output of existing stat layers to situate
text: <code><a href="https://ggrepel.slowkow.com/reference/geom_text_repel.html" class="external-link">ggrepel::geom_text_repel()</a></code> takes the same aesthetics
as <code><a href="https://ggplot2.tidyverse.org/reference/geom_text.html" class="external-link">ggplot2::geom_text()</a></code>, namely <code>x</code>,
<code>y</code>, and <code>label</code>. In contrast,
<code><a href="https://wilkox.org/ggfittext/reference/geom_fit_text.html" class="external-link">ggfittext::geom_fit_text()</a></code> only specifically requires
<code>label</code> but also needs enough information to determine the
rectangle that will contain the text. This can be encoded as
<code>xmin</code> and <code>xmax</code> or as <code>x</code> and
<code>width</code> for the horizontal direction, and as
<code>ymin</code> and <code>ymax</code> or as <code>y</code> and
<code>height</code> for the vertical direction. Conveniently,
<code><a href="../reference/stat_stratum.html">ggalluvial::stat_stratum()</a></code> produces more than enough
information for both geoms, including <code>x</code>, <code>xmin</code>,
<code>xmax</code>, and their vertical counterparts.</p>
<p>All this can be gleaned from the <code>ggproto</code> objects that
construct the layers:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="fu">ggrepel</span><span class="fu">::</span><span class="va"><a href="https://ggrepel.slowkow.com/reference/ggrepel.html" class="external-link">GeomTextRepel</a></span><span class="op">$</span><span class="va">required_aes</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## [1] "x"     "y"     "label"</span></span></code></pre>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="fu">ggfittext</span><span class="fu">:::</span><span class="va">GeomFitText</span><span class="op">$</span><span class="va">required_aes</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## [1] "label"</span></span></code></pre>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="fu">ggfittext</span><span class="fu">:::</span><span class="va">GeomFitText</span><span class="op">$</span><span class="va">setup_data</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## &lt;ggproto method&gt;</span></span>
<span><span class="co">##   &lt;Wrapper function&gt;</span></span>
<span><span class="co">##     function (...) </span></span>
<span><span class="co">## setup_data(...)</span></span>
<span><span class="co">## </span></span>
<span><span class="co">##   &lt;Inner function (f)&gt;</span></span>
<span><span class="co">##     function (data, params) </span></span>
<span><span class="co">## {</span></span>
<span><span class="co">##     if (!(!is.null(data$xmin) &amp; !is.null(data$xmax) | !is.null(data$x))) {</span></span>
<span><span class="co">##         cli::cli_abort("geom_fit_text needs either 'xmin' and 'xmax', or 'x'")</span></span>
<span><span class="co">##     }</span></span>
<span><span class="co">##     if (!(!is.null(data$ymin) &amp; !is.null(data$ymax) | !is.null(data$y))) {</span></span>
<span><span class="co">##         cli::cli_abort("geom_fit_text needs either 'ymin' and 'ymax', or 'y'")</span></span>
<span><span class="co">##     }</span></span>
<span><span class="co">##     if ((!is.null(params$width)) &amp; (!inherits(params$width, "unit"))) {</span></span>
<span><span class="co">##         data$xmin &lt;- data$x - params$width/2</span></span>
<span><span class="co">##         data$xmax &lt;- data$x + params$width/2</span></span>
<span><span class="co">##     }</span></span>
<span><span class="co">##     if ((!is.null(params$height)) &amp; (!inherits(params$height, </span></span>
<span><span class="co">##         "unit"))) {</span></span>
<span><span class="co">##         data$ymin &lt;- data$y - params$height/2</span></span>
<span><span class="co">##         data$ymax &lt;- data$y + params$height/2</span></span>
<span><span class="co">##     }</span></span>
<span><span class="co">##     if (is.null(params$width) &amp; is.null(data$xmin)) {</span></span>
<span><span class="co">##         data$width &lt;- ggplot2::resolution(data$x, FALSE) * 0.9</span></span>
<span><span class="co">##         data$xmin &lt;- data$x - data$width/2</span></span>
<span><span class="co">##         data$xmax &lt;- data$x + data$width/2</span></span>
<span><span class="co">##         data$width &lt;- NULL</span></span>
<span><span class="co">##     }</span></span>
<span><span class="co">##     if (is.null(params$height) &amp; is.null(data$ymin)) {</span></span>
<span><span class="co">##         data$height &lt;- ggplot2::resolution(data$y, FALSE) * 0.9</span></span>
<span><span class="co">##         data$ymin &lt;- data$y - data$height/2</span></span>
<span><span class="co">##         data$ymax &lt;- data$y + data$height/2</span></span>
<span><span class="co">##         data$height &lt;- NULL</span></span>
<span><span class="co">##     }</span></span>
<span><span class="co">##     if (!is.null(params$formatter)) {</span></span>
<span><span class="co">##         if (!is.function(params$formatter)) {</span></span>
<span><span class="co">##             cli::cli_abort("`formatter` must be a function")</span></span>
<span><span class="co">##         }</span></span>
<span><span class="co">##         formatted_labels &lt;- vapply(data$label, params$formatter, </span></span>
<span><span class="co">##             character(1), USE.NAMES = FALSE)</span></span>
<span><span class="co">##         if ((!length(formatted_labels) == length(data$label)) | </span></span>
<span><span class="co">##             (!is.character(formatted_labels))) {</span></span>
<span><span class="co">##             cli::cli_abort("`formatter` must produce a character vector of same length as input")</span></span>
<span><span class="co">##         }</span></span>
<span><span class="co">##         data$label &lt;- formatted_labels</span></span>
<span><span class="co">##     }</span></span>
<span><span class="co">##     data$flip &lt;- params$flip</span></span>
<span><span class="co">##     data</span></span>
<span><span class="co">## }</span></span></code></pre>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">StatStratum</span><span class="op">$</span><span class="va">compute_panel</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## &lt;ggproto method&gt;</span></span>
<span><span class="co">##   &lt;Wrapper function&gt;</span></span>
<span><span class="co">##     function (...) </span></span>
<span><span class="co">## compute_panel(..., self = self)</span></span>
<span><span class="co">## </span></span>
<span><span class="co">##   &lt;Inner function (f)&gt;</span></span>
<span><span class="co">##     function (self, data, scales, decreasing = NULL, reverse = NULL, </span></span>
<span><span class="co">##     absolute = NULL, discern = FALSE, distill = "first", negate.strata = NULL, </span></span>
<span><span class="co">##     infer.label = FALSE, label.strata = NULL, min.y = NULL, max.y = NULL, </span></span>
<span><span class="co">##     min.height = NULL, max.height = NULL) </span></span>
<span><span class="co">## {</span></span>
<span><span class="co">##     if (is.null(decreasing)) </span></span>
<span><span class="co">##         decreasing &lt;- ggalluvial_opt("decreasing")</span></span>
<span><span class="co">##     if (is.null(reverse)) </span></span>
<span><span class="co">##         reverse &lt;- ggalluvial_opt("reverse")</span></span>
<span><span class="co">##     if (is.null(absolute)) </span></span>
<span><span class="co">##         absolute &lt;- ggalluvial_opt("absolute")</span></span>
<span><span class="co">##     if (!is.null(label.strata)) {</span></span>
<span><span class="co">##         defunct_parameter("label.strata", msg = "use `aes(label = after_stat(stratum))`.")</span></span>
<span><span class="co">##         infer.label &lt;- label.strata</span></span>
<span><span class="co">##     }</span></span>
<span><span class="co">##     if (infer.label) {</span></span>
<span><span class="co">##         deprecate_parameter("infer.label", msg = "Use `aes(label = after_stat(stratum))`.")</span></span>
<span><span class="co">##         if (is.null(data$label)) {</span></span>
<span><span class="co">##             data$label &lt;- data$stratum</span></span>
<span><span class="co">##         }</span></span>
<span><span class="co">##         else {</span></span>
<span><span class="co">##             warning("Aesthetic `label` is specified, ", "so parameter `infer.label` will be ignored.")</span></span>
<span><span class="co">##         }</span></span>
<span><span class="co">##     }</span></span>
<span><span class="co">##     diff_aes &lt;- intersect(c(.color_diff_aesthetics, .text_aesthetics), </span></span>
<span><span class="co">##         names(data))</span></span>
<span><span class="co">##     data$yneg &lt;- data$y &lt; 0</span></span>
<span><span class="co">##     data$lode &lt;- data$alluvium</span></span>
<span><span class="co">##     distill &lt;- distill_fun(distill)</span></span>
<span><span class="co">##     weight &lt;- data$weight</span></span>
<span><span class="co">##     data$weight &lt;- NULL</span></span>
<span><span class="co">##     if (is.null(weight)) </span></span>
<span><span class="co">##         weight &lt;- 1</span></span>
<span><span class="co">##     data$n &lt;- weight</span></span>
<span><span class="co">##     data$count &lt;- data$y * weight</span></span>
<span><span class="co">##     by_vars &lt;- c("x", "yneg", "stratum")</span></span>
<span><span class="co">##     only_vars &lt;- c(diff_aes)</span></span>
<span><span class="co">##     sum_vars &lt;- c("y", "n", "count")</span></span>
<span><span class="co">##     if (!is.null(data$lode)) {</span></span>
<span><span class="co">##         agg_lode &lt;- stats::aggregate(data[, "lode", drop = FALSE], </span></span>
<span><span class="co">##             data[, by_vars], distill)</span></span>
<span><span class="co">##     }</span></span>
<span><span class="co">##     if (length(only_vars) &gt; 0) {</span></span>
<span><span class="co">##         agg_only &lt;- stats::aggregate(data[, only_vars, drop = FALSE], </span></span>
<span><span class="co">##             data[, by_vars], only)</span></span>
<span><span class="co">##     }</span></span>
<span><span class="co">##     data &lt;- stats::aggregate(data[, sum_vars], data[, by_vars], </span></span>
<span><span class="co">##         sum)</span></span>
<span><span class="co">##     if (!is.null(data$lode)) {</span></span>
<span><span class="co">##         data &lt;- merge(data, agg_lode)</span></span>
<span><span class="co">##     }</span></span>
<span><span class="co">##     if (length(only_vars) &gt; 0) {</span></span>
<span><span class="co">##         data &lt;- merge(data, agg_only)</span></span>
<span><span class="co">##     }</span></span>
<span><span class="co">##     data &lt;- subset(data, y != 0)</span></span>
<span><span class="co">##     data &lt;- deposit_data(data, decreasing, reverse, absolute)</span></span>
<span><span class="co">##     x_sums &lt;- tapply(abs(data$count), data$x, sum, na.rm = TRUE)</span></span>
<span><span class="co">##     data$prop &lt;- data$count/x_sums[match(as.character(data$x), </span></span>
<span><span class="co">##         names(x_sums))]</span></span>
<span><span class="co">##     data &lt;- data[with(data, order(deposit)), , drop = FALSE]</span></span>
<span><span class="co">##     data$ycum &lt;- NA</span></span>
<span><span class="co">##     for (xx in unique(data$x)) {</span></span>
<span><span class="co">##         for (yn in c(FALSE, TRUE)) {</span></span>
<span><span class="co">##             ww &lt;- which(data$x == xx &amp; data$yneg == yn)</span></span>
<span><span class="co">##             data$ycum[ww] &lt;- cumulate(data$y[ww])</span></span>
<span><span class="co">##         }</span></span>
<span><span class="co">##     }</span></span>
<span><span class="co">##     data$ymin &lt;- data$ycum - abs(data$y)/2</span></span>
<span><span class="co">##     data$ymax &lt;- data$ycum + abs(data$y)/2</span></span>
<span><span class="co">##     data$y &lt;- data$ycum</span></span>
<span><span class="co">##     data$yneg &lt;- NULL</span></span>
<span><span class="co">##     data$ycum &lt;- NULL</span></span>
<span><span class="co">##     if (!is.null(min.height)) {</span></span>
<span><span class="co">##         deprecate_parameter("min.height", "min.y")</span></span>
<span><span class="co">##         min.y &lt;- min.height</span></span>
<span><span class="co">##     }</span></span>
<span><span class="co">##     if (!is.null(max.height)) {</span></span>
<span><span class="co">##         deprecate_parameter("max.height", "max.y")</span></span>
<span><span class="co">##         max.y &lt;- max.height</span></span>
<span><span class="co">##     }</span></span>
<span><span class="co">##     if (!is.null(min.y)) </span></span>
<span><span class="co">##         data &lt;- subset(data, ymax - ymin &gt;= min.y)</span></span>
<span><span class="co">##     if (!is.null(max.y)) </span></span>
<span><span class="co">##         data &lt;- subset(data, ymax - ymin &lt;= max.y)</span></span>
<span><span class="co">##     data</span></span>
<span><span class="co">## }</span></span></code></pre>
<p>I reached the specific solutions through trial and error. They may
not be the best tricks for most cases, but they demonstrate what these
packages can do. For many more examples, see the respective package
vignettes: <a href="https://CRAN.R-project.org/package=ggrepel/vignettes/ggrepel.html" class="external-link">for
{ggrepel}</a>, and <a href="https://CRAN.R-project.org/package=ggfittext/vignettes/introduction-to-ggfittext.html" class="external-link">for
{ggfittext}</a>.</p>
<div class="section level3">
<h3 id="solution-1-ggrepel">Solution 1: {ggrepel}<a class="anchor" aria-label="anchor" href="#solution-1-ggrepel"></a>
</h3>
<p>{ggrepel} is most often (in my experience) used to repel text away
from symbols in a scatterplot, in whatever directions prevent them from
overlapping the symbols and each other. In this case, however, it makes
much more sense to align them vertically a fixed horizontal distance
(<code>nudge_x</code>) away from the strata and repel them vertically
from each other (<code>direction = "y"</code>) just enough to print them
without overlap. It takes an extra bit of effort to render text
<em>only</em> for the strata at the first (or at the last) axis, but the
result is worth it.</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="va">vaccinations</span>,</span>
<span>       <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">survey</span>, stratum <span class="op">=</span> <span class="va">response</span>, alluvium <span class="op">=</span> <span class="va">subject</span>, y <span class="op">=</span> <span class="va">freq</span>,</span>
<span>           fill <span class="op">=</span> <span class="va">response</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_discrete.html" class="external-link">scale_x_discrete</a></span><span class="op">(</span>expand <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">.4</span>, <span class="fl">0</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="../reference/geom_flow.html">geom_flow</a></span><span class="op">(</span>width <span class="op">=</span> <span class="fl">1</span><span class="op">/</span><span class="fl">4</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="../reference/geom_stratum.html">geom_stratum</a></span><span class="op">(</span>alpha <span class="op">=</span> <span class="fl">.5</span>, width <span class="op">=</span> <span class="fl">1</span><span class="op">/</span><span class="fl">4</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_manual.html" class="external-link">scale_linetype_manual</a></span><span class="op">(</span>values <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"blank"</span>, <span class="st">"solid"</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">ggrepel</span><span class="fu">::</span><span class="fu"><a href="https://ggrepel.slowkow.com/reference/geom_text_repel.html" class="external-link">geom_text_repel</a></span><span class="op">(</span></span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>label <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/ifelse.html" class="external-link">ifelse</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/numeric.html" class="external-link">as.numeric</a></span><span class="op">(</span><span class="va">survey</span><span class="op">)</span> <span class="op">==</span> <span class="fl">1</span>, <span class="fu"><a href="https://rdrr.io/r/base/character.html" class="external-link">as.character</a></span><span class="op">(</span><span class="va">response</span><span class="op">)</span>, <span class="cn">NA</span><span class="op">)</span><span class="op">)</span>,</span>
<span>    stat <span class="op">=</span> <span class="st">"stratum"</span>, size <span class="op">=</span> <span class="fl">4</span>, direction <span class="op">=</span> <span class="st">"y"</span>, nudge_x <span class="op">=</span> <span class="op">-</span><span class="fl">.5</span></span>
<span>  <span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">ggrepel</span><span class="fu">::</span><span class="fu"><a href="https://ggrepel.slowkow.com/reference/geom_text_repel.html" class="external-link">geom_text_repel</a></span><span class="op">(</span></span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>label <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/ifelse.html" class="external-link">ifelse</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/numeric.html" class="external-link">as.numeric</a></span><span class="op">(</span><span class="va">survey</span><span class="op">)</span> <span class="op">==</span> <span class="fl">3</span>, <span class="fu"><a href="https://rdrr.io/r/base/character.html" class="external-link">as.character</a></span><span class="op">(</span><span class="va">response</span><span class="op">)</span>, <span class="cn">NA</span><span class="op">)</span><span class="op">)</span>,</span>
<span>    stat <span class="op">=</span> <span class="st">"stratum"</span>, size <span class="op">=</span> <span class="fl">4</span>, direction <span class="op">=</span> <span class="st">"y"</span>, nudge_x <span class="op">=</span> <span class="fl">.5</span></span>
<span>  <span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html" class="external-link">theme</a></span><span class="op">(</span>legend.position <span class="op">=</span> <span class="st">"none"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">ggtitle</a></span><span class="op">(</span><span class="st">"vaccination survey responses"</span>, <span class="st">"labeled using `geom_text_repel()`"</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## Warning: Removed 8 rows containing missing values or values outside the scale range</span></span>
<span><span class="co">## (`geom_text_repel()`).</span></span>
<span><span class="co">## Removed 8 rows containing missing values or values outside the scale range</span></span>
<span><span class="co">## (`geom_text_repel()`).</span></span></code></pre>
<p><img src="labels_files/figure-html/ggrepel-1.png" width="576" style="display: block; margin: auto;"></p>
</div>
<div class="section level3">
<h3 id="solution-2-ggfittext">Solution 2: {ggfittext}<a class="anchor" aria-label="anchor" href="#solution-2-ggfittext"></a>
</h3>
<p>{ggfittext} is simplicity itself: The strata are just rectangles, so
no more parameter specifications are necessary to fit the text into
them. One key parameter is <code>min.size</code>, which defaults to
<code>4</code> and controls how small the text is allowed to get without
being omitted.</p>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="va">vaccinations</span>,</span>
<span>       <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">survey</span>, stratum <span class="op">=</span> <span class="va">response</span>, alluvium <span class="op">=</span> <span class="va">subject</span>, y <span class="op">=</span> <span class="va">freq</span>,</span>
<span>           fill <span class="op">=</span> <span class="va">response</span>, label <span class="op">=</span> <span class="va">response</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_discrete.html" class="external-link">scale_x_discrete</a></span><span class="op">(</span>expand <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">.1</span>, <span class="fl">0</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="../reference/geom_flow.html">geom_flow</a></span><span class="op">(</span>width <span class="op">=</span> <span class="fl">1</span><span class="op">/</span><span class="fl">4</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="../reference/geom_stratum.html">geom_stratum</a></span><span class="op">(</span>alpha <span class="op">=</span> <span class="fl">.5</span>, width <span class="op">=</span> <span class="fl">1</span><span class="op">/</span><span class="fl">4</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">ggfittext</span><span class="fu">::</span><span class="fu"><a href="https://wilkox.org/ggfittext/reference/geom_fit_text.html" class="external-link">geom_fit_text</a></span><span class="op">(</span>stat <span class="op">=</span> <span class="st">"stratum"</span>, width <span class="op">=</span> <span class="fl">1</span><span class="op">/</span><span class="fl">4</span>, min.size <span class="op">=</span> <span class="fl">3</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html" class="external-link">theme</a></span><span class="op">(</span>legend.position <span class="op">=</span> <span class="st">"none"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">ggtitle</a></span><span class="op">(</span><span class="st">"vaccination survey responses"</span>, <span class="st">"labeled using `geom_fit_text()`"</span><span class="op">)</span></span></code></pre></div>
<p><img src="labels_files/figure-html/ggfittext-1.png" width="576" style="display: block; margin: auto;"></p>
<p>Note that this solution requires {ggfittext} v0.6.0.</p>
</div>
</div>
<div class="section level2">
<h2 id="appendix">Appendix<a class="anchor" aria-label="anchor" href="#appendix"></a>
</h2>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">sessioninfo</span><span class="fu">::</span><span class="fu"><a href="https://sessioninfo.r-lib.org/reference/session_info.html" class="external-link">session_info</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## <span style="color: #00BBBB; font-weight: bold;">─ Session info ───────────────────────────────────────────────────────────────</span></span></span>
<span><span class="co">##  <span style="color: #555555; font-style: italic;">setting </span> <span style="color: #555555; font-style: italic;">value</span></span></span>
<span><span class="co">##  version  R version 4.4.2 (2024-10-31)</span></span>
<span><span class="co">##  os       macOS Sonoma 14.4.1</span></span>
<span><span class="co">##  system   aarch64, darwin20</span></span>
<span><span class="co">##  ui       X11</span></span>
<span><span class="co">##  language en</span></span>
<span><span class="co">##  collate  en_US.UTF-8</span></span>
<span><span class="co">##  ctype    en_US.UTF-8</span></span>
<span><span class="co">##  tz       America/New_York</span></span>
<span><span class="co">##  date     2025-06-12</span></span>
<span><span class="co">##  pandoc   2.19 @ /opt/homebrew/bin/ (via rmarkdown)</span></span>
<span><span class="co">##  quarto   NA</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## <span style="color: #00BBBB; font-weight: bold;">─ Packages ───────────────────────────────────────────────────────────────────</span></span></span>
<span><span class="co">##  <span style="color: #555555; font-style: italic;">package     </span> <span style="color: #555555; font-style: italic;">*</span> <span style="color: #555555; font-style: italic;">version</span> <span style="color: #555555; font-style: italic;">date (UTC)</span> <span style="color: #555555; font-style: italic;">lib</span> <span style="color: #555555; font-style: italic;">source</span></span></span>
<span><span class="co">##  bslib          0.9.0   <span style="color: #555555;">2025-01-30</span> <span style="color: #555555;">[2]</span> <span style="color: #555555;">CRAN (R 4.4.1)</span></span></span>
<span><span class="co">##  cachem         1.1.0   <span style="color: #555555;">2024-05-16</span> <span style="color: #555555;">[2]</span> <span style="color: #555555;">CRAN (R 4.4.1)</span></span></span>
<span><span class="co">##  cli            3.6.5   <span style="color: #555555;">2025-04-23</span> <span style="color: #555555;">[2]</span> <span style="color: #555555;">CRAN (R 4.4.1)</span></span></span>
<span><span class="co">##  desc           1.4.3   <span style="color: #555555;">2023-12-10</span> <span style="color: #555555;">[2]</span> <span style="color: #555555;">CRAN (R 4.4.1)</span></span></span>
<span><span class="co">##  digest         0.6.37  <span style="color: #555555;">2024-08-19</span> <span style="color: #555555;">[2]</span> <span style="color: #555555;">CRAN (R 4.4.1)</span></span></span>
<span><span class="co">##  dplyr          1.1.4   <span style="color: #555555;">2023-11-17</span> <span style="color: #555555;">[2]</span> <span style="color: #555555;">CRAN (R 4.4.0)</span></span></span>
<span><span class="co">##  evaluate       1.0.3   <span style="color: #555555;">2025-01-10</span> <span style="color: #555555;">[2]</span> <span style="color: #555555;">CRAN (R 4.4.1)</span></span></span>
<span><span class="co">##  farver         2.1.2   <span style="color: #555555;">2024-05-13</span> <span style="color: #555555;">[2]</span> <span style="color: #555555;">CRAN (R 4.4.1)</span></span></span>
<span><span class="co">##  fastmap        1.2.0   <span style="color: #555555;">2024-05-15</span> <span style="color: #555555;">[2]</span> <span style="color: #555555;">CRAN (R 4.4.1)</span></span></span>
<span><span class="co">##  fs             1.6.6   <span style="color: #555555;">2025-04-12</span> <span style="color: #555555;">[2]</span> <span style="color: #555555;">CRAN (R 4.4.1)</span></span></span>
<span><span class="co">##  generics       0.1.4   <span style="color: #555555;">2025-05-09</span> <span style="color: #555555;">[2]</span> <span style="color: #555555;">CRAN (R 4.4.1)</span></span></span>
<span><span class="co">##  ggalluvial   * 0.12.5  <span style="color: #555555;">2025-06-12</span> <span style="color: #555555;">[1]</span> <span style="color: #BB00BB; font-weight: bold;">local</span></span></span>
<span><span class="co">##  ggfittext      0.10.2  <span style="color: #555555;">2024-02-01</span> <span style="color: #555555;">[2]</span> <span style="color: #555555;">CRAN (R 4.4.0)</span></span></span>
<span><span class="co">##  ggplot2      * 3.5.2   <span style="color: #555555;">2025-04-09</span> <span style="color: #555555;">[2]</span> <span style="color: #555555;">CRAN (R 4.4.1)</span></span></span>
<span><span class="co">##  ggrepel        0.9.6   <span style="color: #555555;">2024-09-07</span> <span style="color: #555555;">[2]</span> <span style="color: #555555;">CRAN (R 4.4.1)</span></span></span>
<span><span class="co">##  glue           1.8.0   <span style="color: #555555;">2024-09-30</span> <span style="color: #555555;">[2]</span> <span style="color: #555555;">CRAN (R 4.4.1)</span></span></span>
<span><span class="co">##  gtable         0.3.6   <span style="color: #555555;">2024-10-25</span> <span style="color: #555555;">[2]</span> <span style="color: #555555;">CRAN (R 4.4.1)</span></span></span>
<span><span class="co">##  htmltools      0.5.8.1 <span style="color: #555555;">2024-04-04</span> <span style="color: #555555;">[2]</span> <span style="color: #555555;">CRAN (R 4.4.1)</span></span></span>
<span><span class="co">##  htmlwidgets    1.6.4   <span style="color: #555555;">2023-12-06</span> <span style="color: #555555;">[2]</span> <span style="color: #555555;">CRAN (R 4.4.0)</span></span></span>
<span><span class="co">##  jquerylib      0.1.4   <span style="color: #555555;">2021-04-26</span> <span style="color: #555555;">[2]</span> <span style="color: #555555;">CRAN (R 4.4.0)</span></span></span>
<span><span class="co">##  jsonlite       2.0.0   <span style="color: #555555;">2025-03-27</span> <span style="color: #555555;">[2]</span> <span style="color: #555555;">CRAN (R 4.4.1)</span></span></span>
<span><span class="co">##  knitr          1.50    <span style="color: #555555;">2025-03-16</span> <span style="color: #555555;">[2]</span> <span style="color: #555555;">CRAN (R 4.4.1)</span></span></span>
<span><span class="co">##  labeling       0.4.3   <span style="color: #555555;">2023-08-29</span> <span style="color: #555555;">[2]</span> <span style="color: #555555;">CRAN (R 4.4.1)</span></span></span>
<span><span class="co">##  lifecycle      1.0.4   <span style="color: #555555;">2023-11-07</span> <span style="color: #555555;">[2]</span> <span style="color: #555555;">CRAN (R 4.4.1)</span></span></span>
<span><span class="co">##  magrittr       2.0.3   <span style="color: #555555;">2022-03-30</span> <span style="color: #555555;">[2]</span> <span style="color: #555555;">CRAN (R 4.4.1)</span></span></span>
<span><span class="co">##  pillar         1.10.2  <span style="color: #555555;">2025-04-05</span> <span style="color: #555555;">[2]</span> <span style="color: #555555;">CRAN (R 4.4.1)</span></span></span>
<span><span class="co">##  pkgconfig      2.0.3   <span style="color: #555555;">2019-09-22</span> <span style="color: #555555;">[2]</span> <span style="color: #555555;">CRAN (R 4.4.1)</span></span></span>
<span><span class="co">##  pkgdown        2.1.2   <span style="color: #555555;">2025-04-28</span> <span style="color: #555555;">[2]</span> <span style="color: #555555;">CRAN (R 4.4.1)</span></span></span>
<span><span class="co">##  purrr          1.0.4   <span style="color: #555555;">2025-02-05</span> <span style="color: #555555;">[2]</span> <span style="color: #555555;">CRAN (R 4.4.1)</span></span></span>
<span><span class="co">##  R6             2.6.1   <span style="color: #555555;">2025-02-15</span> <span style="color: #555555;">[2]</span> <span style="color: #555555;">CRAN (R 4.4.1)</span></span></span>
<span><span class="co">##  ragg           1.4.0   <span style="color: #555555;">2025-04-10</span> <span style="color: #555555;">[2]</span> <span style="color: #555555;">CRAN (R 4.4.1)</span></span></span>
<span><span class="co">##  RColorBrewer   1.1-3   <span style="color: #555555;">2022-04-03</span> <span style="color: #555555;">[2]</span> <span style="color: #555555;">CRAN (R 4.4.1)</span></span></span>
<span><span class="co">##  Rcpp           1.0.14  <span style="color: #555555;">2025-01-12</span> <span style="color: #555555;">[2]</span> <span style="color: #555555;">CRAN (R 4.4.1)</span></span></span>
<span><span class="co">##  rlang          1.1.6   <span style="color: #555555;">2025-04-11</span> <span style="color: #555555;">[2]</span> <span style="color: #555555;">CRAN (R 4.4.1)</span></span></span>
<span><span class="co">##  rmarkdown      2.29    <span style="color: #555555;">2024-11-04</span> <span style="color: #555555;">[2]</span> <span style="color: #555555;">CRAN (R 4.4.1)</span></span></span>
<span><span class="co">##  sass           0.4.10  <span style="color: #555555;">2025-04-11</span> <span style="color: #555555;">[2]</span> <span style="color: #555555;">CRAN (R 4.4.1)</span></span></span>
<span><span class="co">##  scales         1.4.0   <span style="color: #555555;">2025-04-24</span> <span style="color: #555555;">[2]</span> <span style="color: #555555;">CRAN (R 4.4.1)</span></span></span>
<span><span class="co">##  sessioninfo    1.2.3   <span style="color: #555555;">2025-02-05</span> <span style="color: #555555;">[2]</span> <span style="color: #555555;">CRAN (R 4.4.1)</span></span></span>
<span><span class="co">##  stringi        1.8.7   <span style="color: #555555;">2025-03-27</span> <span style="color: #555555;">[2]</span> <span style="color: #555555;">CRAN (R 4.4.1)</span></span></span>
<span><span class="co">##  systemfonts    1.2.3   <span style="color: #555555;">2025-04-30</span> <span style="color: #555555;">[2]</span> <span style="color: #555555;">CRAN (R 4.4.1)</span></span></span>
<span><span class="co">##  textshaping    1.0.1   <span style="color: #555555;">2025-05-01</span> <span style="color: #555555;">[2]</span> <span style="color: #555555;">CRAN (R 4.4.1)</span></span></span>
<span><span class="co">##  tibble         3.2.1   <span style="color: #555555;">2023-03-20</span> <span style="color: #555555;">[2]</span> <span style="color: #555555;">CRAN (R 4.4.0)</span></span></span>
<span><span class="co">##  tidyr          1.3.1   <span style="color: #555555;">2024-01-24</span> <span style="color: #555555;">[2]</span> <span style="color: #555555;">CRAN (R 4.4.1)</span></span></span>
<span><span class="co">##  tidyselect     1.2.1   <span style="color: #555555;">2024-03-11</span> <span style="color: #555555;">[2]</span> <span style="color: #555555;">CRAN (R 4.4.0)</span></span></span>
<span><span class="co">##  vctrs          0.6.5   <span style="color: #555555;">2023-12-01</span> <span style="color: #555555;">[2]</span> <span style="color: #555555;">CRAN (R 4.4.0)</span></span></span>
<span><span class="co">##  withr          3.0.2   <span style="color: #555555;">2024-10-28</span> <span style="color: #555555;">[2]</span> <span style="color: #555555;">CRAN (R 4.4.1)</span></span></span>
<span><span class="co">##  xfun           0.52    <span style="color: #555555;">2025-04-02</span> <span style="color: #555555;">[2]</span> <span style="color: #555555;">CRAN (R 4.4.1)</span></span></span>
<span><span class="co">##  yaml           2.3.10  <span style="color: #555555;">2024-07-26</span> <span style="color: #555555;">[2]</span> <span style="color: #555555;">CRAN (R 4.4.1)</span></span></span>
<span><span class="co">## </span></span>
<span><span class="co">## <span style="color: #555555;"> [1] /private/var/folders/4p/3cy0qmp15x9216qsqhh84kzm0000gn/T/Rtmpys5FaI/temp_libpath178905dc69195</span></span></span>
<span><span class="co">## <span style="color: #555555;"> [2] /Library/Frameworks/R.framework/Versions/4.4-arm64/Resources/library</span></span></span>
<span><span class="co">##  <span style="color: #BBBBBB; background-color: #BB0000;">*</span> ── Packages attached to the search path.</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## <span style="color: #00BBBB; font-weight: bold;">──────────────────────────────────────────────────────────────────────────────</span></span></span></code></pre>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Jason Cory Brunson, Quentin D. Read.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.2.</p>
</div>

    </footer>
</div>





  </body>
</html>
